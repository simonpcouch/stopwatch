<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>High Precision Timings Using Mocking • stopwatch</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="High Precision Timings Using Mocking">
<meta property="og:description" content="Introduces ticker objects, which temporarily mock an inputted 
  function with a wrapper of the function that records the elapsed time of 
  the call to the inputted function and stores it for later exploration.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">stopwatch</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/simonpcouch/stopwatch/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="stopwatch">stopwatch<a class="anchor" aria-label="anchor" href="#stopwatch"></a>
</h1></div>
<!-- badges: start -->

<p>stopwatch is an experimental R package for high-precision profiling. The package introduces “tickers,” which temporarily mock an inputted function with a wrapper of the function that records the elapsed time of the call to the inputted function and stores it for later exploration.</p>
<p><strong>This package is experimental and quite unsafe. Use with caution!</strong> I wrote this package for my own purposes and it is quite buggy outside of the context I’m interested in using it in.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of stopwatch like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"simonpcouch/stopwatch"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>As an example, we’ll fit a linear model, timing how long the call to <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> takes. First, loading the package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/simonpcouch/stopwatch" class="external-link">stopwatch</a></span><span class="op">)</span></span></code></pre></div>
<p>Now, we set up a “ticker” for <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> like so:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_ticker</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/tick.html">tick</a></span><span class="op">(</span><span class="st">"lm"</span>, <span class="st">"stats"</span><span class="op">)</span></span></code></pre></div>
<p>The result is a ticker:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_ticker</span></span>
<span><span class="co">#&gt; A &lt;ticker&gt; for `stats::lm()`.</span></span></code></pre></div>
<p>Also, though, <code><a href="reference/tick.html">tick()</a></code> has provided a new binding to the <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> function:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">stats</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span></span>
<span><span class="co">#&gt; function (...) </span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;     timings &lt;- bench::system_time({</span></span>
<span><span class="co">#&gt;         res &lt;- eval(call2(ticker_fn(ticker), ...))</span></span>
<span><span class="co">#&gt;     })[[measure]]</span></span>
<span><span class="co">#&gt;     ticks_[[as.character(ticker)]] &lt;- c(ticks_[[as.character(ticker)]], </span></span>
<span><span class="co">#&gt;         timings)</span></span>
<span><span class="co">#&gt;     res</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="co">#&gt; &lt;bytecode: 0x125285218&gt;</span></span>
<span><span class="co">#&gt; &lt;environment: 0x125266bb8&gt;</span></span></code></pre></div>
<p>The new binding for <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> calls the original <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> definition, but wraps that call in <code><a href="http://bench.r-lib.org/reference/bench_time.html" class="external-link">bench::system_time()</a></code>, which returns high-precision <code>timings</code> for its input. It then stores the resulting <code>timings</code> before returning the output from the original <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> call.</p>
<p>So, moving on to fitting that linear model:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_res</span> <span class="op">&lt;-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">.</span>, <span class="va">mtcars</span><span class="op">)</span></span></code></pre></div>
<p>Again, the result is the same as it would be if we had called <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> without establishing a ticker for it (albeit with a different call):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">lm_res</span><span class="op">)</span></span>
<span><span class="co">#&gt; (Intercept)         cyl        disp          hp        drat          wt </span></span>
<span><span class="co">#&gt; 12.30337416 -0.11144048  0.01333524 -0.02148212  0.78711097 -3.71530393 </span></span>
<span><span class="co">#&gt;        qsec          vs          am        gear        carb </span></span>
<span><span class="co">#&gt;  0.82104075  0.31776281  2.52022689  0.65541302 -0.19941925</span></span></code></pre></div>
<p>The benefit, though, is that we now have information on how long the call to <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> took:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ticks.html">ticks</a></span><span class="op">(</span><span class="va">lm_ticker</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.001956</span></span></code></pre></div>
<p>For as long as the function is enticked, it will record timings for every call:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_res2</span> <span class="op">&lt;-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">.</span>, <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="va">lm_res3</span> <span class="op">&lt;-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">.</span>, <span class="va">mtcars</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/ticks.html">ticks</a></span><span class="op">(</span><span class="va">lm_ticker</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.001956 0.000603 0.000555</span></span></code></pre></div>
<p>To restore the function to it’s previous definition (and erase the timings associated with the ticker), use <code><a href="reference/untick.html">untick()</a></code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/untick.html">untick</a></span><span class="op">(</span><span class="va">lm_ticker</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">stats</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span></span>
<span><span class="co">#&gt; function (formula, data, subset, weights, na.action, method = "qr", </span></span>
<span><span class="co">#&gt;     model = TRUE, x = FALSE, y = FALSE, qr = TRUE, singular.ok = TRUE, </span></span>
<span><span class="co">#&gt;     contrasts = NULL, offset, ...) </span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;     ret.x &lt;- x</span></span>
<span><span class="co">#&gt;     ret.y &lt;- y</span></span>
<span><span class="co">#&gt;     cl &lt;- match.call()</span></span>
<span><span class="co">#&gt;     mf &lt;- match.call(expand.dots = FALSE)</span></span>
<span><span class="co">#&gt;     m &lt;- match(c("formula", "data", "subset", "weights", "na.action", </span></span>
<span><span class="co">#&gt;         "offset"), names(mf), 0L)</span></span>
<span><span class="co">#&gt;     mf &lt;- mf[c(1L, m)]</span></span>
<span><span class="co">#&gt;     mf$drop.unused.levels &lt;- TRUE</span></span>
<span><span class="co">#&gt;     mf[[1L]] &lt;- quote(stats::model.frame)</span></span>
<span><span class="co">#&gt;     mf &lt;- eval(mf, parent.frame())</span></span>
<span><span class="co">#&gt;     if (method == "model.frame") </span></span>
<span><span class="co">#&gt;         return(mf)</span></span>
<span><span class="co">#&gt;     else if (method != "qr") </span></span>
<span><span class="co">#&gt;         warning(gettextf("method = '%s' is not supported. Using 'qr'", </span></span>
<span><span class="co">#&gt;             method), domain = NA)</span></span>
<span><span class="co">#&gt;     mt &lt;- attr(mf, "terms")</span></span>
<span><span class="co">#&gt;     y &lt;- model.response(mf, "numeric")</span></span>
<span><span class="co">#&gt;     w &lt;- as.vector(model.weights(mf))</span></span>
<span><span class="co">#&gt;     if (!is.null(w) &amp;&amp; !is.numeric(w)) </span></span>
<span><span class="co">#&gt;         stop("'weights' must be a numeric vector")</span></span>
<span><span class="co">#&gt;     offset &lt;- model.offset(mf)</span></span>
<span><span class="co">#&gt;     mlm &lt;- is.matrix(y)</span></span>
<span><span class="co">#&gt;     ny &lt;- if (mlm) </span></span>
<span><span class="co">#&gt;         nrow(y)</span></span>
<span><span class="co">#&gt;     else length(y)</span></span>
<span><span class="co">#&gt;     if (!is.null(offset)) {</span></span>
<span><span class="co">#&gt;         if (!mlm) </span></span>
<span><span class="co">#&gt;             offset &lt;- as.vector(offset)</span></span>
<span><span class="co">#&gt;         if (NROW(offset) != ny) </span></span>
<span><span class="co">#&gt;             stop(gettextf("number of offsets is %d, should equal %d (number of observations)", </span></span>
<span><span class="co">#&gt;                 NROW(offset), ny), domain = NA)</span></span>
<span><span class="co">#&gt;     }</span></span>
<span><span class="co">#&gt;     if (is.empty.model(mt)) {</span></span>
<span><span class="co">#&gt;         x &lt;- NULL</span></span>
<span><span class="co">#&gt;         z &lt;- list(coefficients = if (mlm) matrix(NA_real_, 0, </span></span>
<span><span class="co">#&gt;             ncol(y)) else numeric(), residuals = y, fitted.values = 0 * </span></span>
<span><span class="co">#&gt;             y, weights = w, rank = 0L, df.residual = if (!is.null(w)) sum(w != </span></span>
<span><span class="co">#&gt;             0) else ny)</span></span>
<span><span class="co">#&gt;         if (!is.null(offset)) {</span></span>
<span><span class="co">#&gt;             z$fitted.values &lt;- offset</span></span>
<span><span class="co">#&gt;             z$residuals &lt;- y - offset</span></span>
<span><span class="co">#&gt;         }</span></span>
<span><span class="co">#&gt;     }</span></span>
<span><span class="co">#&gt;     else {</span></span>
<span><span class="co">#&gt;         x &lt;- model.matrix(mt, mf, contrasts)</span></span>
<span><span class="co">#&gt;         z &lt;- if (is.null(w)) </span></span>
<span><span class="co">#&gt;             lm.fit(x, y, offset = offset, singular.ok = singular.ok, </span></span>
<span><span class="co">#&gt;                 ...)</span></span>
<span><span class="co">#&gt;         else lm.wfit(x, y, w, offset = offset, singular.ok = singular.ok, </span></span>
<span><span class="co">#&gt;             ...)</span></span>
<span><span class="co">#&gt;     }</span></span>
<span><span class="co">#&gt;     class(z) &lt;- c(if (mlm) "mlm", "lm")</span></span>
<span><span class="co">#&gt;     z$na.action &lt;- attr(mf, "na.action")</span></span>
<span><span class="co">#&gt;     z$offset &lt;- offset</span></span>
<span><span class="co">#&gt;     z$contrasts &lt;- attr(x, "contrasts")</span></span>
<span><span class="co">#&gt;     z$xlevels &lt;- .getXlevels(mt, mf)</span></span>
<span><span class="co">#&gt;     z$call &lt;- cl</span></span>
<span><span class="co">#&gt;     z$terms &lt;- mt</span></span>
<span><span class="co">#&gt;     if (model) </span></span>
<span><span class="co">#&gt;         z$model &lt;- mf</span></span>
<span><span class="co">#&gt;     if (ret.x) </span></span>
<span><span class="co">#&gt;         z$x &lt;- x</span></span>
<span><span class="co">#&gt;     if (ret.y) </span></span>
<span><span class="co">#&gt;         z$y &lt;- y</span></span>
<span><span class="co">#&gt;     if (!qr) </span></span>
<span><span class="co">#&gt;         z$qr &lt;- NULL</span></span>
<span><span class="co">#&gt;     z</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="co">#&gt; &lt;bytecode: 0x12534df90&gt;</span></span>
<span><span class="co">#&gt; &lt;environment: namespace:stats&gt;</span></span></code></pre></div>
<p>In this example, of course, we could have just called <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> inside of <code><a href="http://bench.r-lib.org/reference/bench_time.html" class="external-link">bench::system_time()</a></code> ourselves and gone on our way. The utility of the package arises when the enticked function is called inside of other functions, such as if we fitted the linear model using the parsnip wrapper <code>parsnip::linear_reg()</code> or resampled the model using <code>tune::fit_resamples()</code>.</p>
</div>
<div class="section level2">
<h2 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a>
</h2>
<ul>
<li><p>While <code><a href="reference/stopwatch-package.html">stopwatch()</a></code> looks to <code><a href="https://testthat.r-lib.org/reference/local_mocked_bindings.html" class="external-link">testthat::local_mocked_bindings()</a></code> in most of its principles, it diverges in a couple places. Most importantly, tickers do not clear themselves via exit handlers and must be cleared manually. It <em>is</em> possible to <code>withr::defer({untick(ticker)})</code> after creating a <code>ticker</code>, and I recommend doing so.</p></li>
<li><p>The package does not play nicely with recursive functions.</p></li>
<li><p>The package struggles with search paths. I use the package to entick functions from external, non-base packages, and it’s most effective for that use case.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="alternatives">Alternatives<a class="anchor" aria-label="anchor" href="#alternatives"></a>
</h2>
<p>You may be interested in more principled alternatives to this package.</p>
<ul>
<li>The initial approach for this package was inspired by <code><a href="https://testthat.r-lib.org/reference/local_mocked_bindings.html" class="external-link">testthat::local_mocked_bindings()</a></code>, which implements a principled mocking framework.</li>
<li>Generally, I’d recommending using <code>profvis::profvis()</code> for profiling with R.</li>
<li>When using the base R Rprof, I like to wrap it as follows:</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prof_tbl</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">expr</span>, <span class="va">...</span>, <span class="va">interval</span> <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">file</span> <span class="op">&lt;-</span> <span class="fu">withr</span><span class="fu">::</span><span class="fu"><a href="https://withr.r-lib.org/reference/with_tempfile.html" class="external-link">local_tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/eval.html" class="external-link">evalq</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/on.exit.html" class="external-link">on.exit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/Rprof.html" class="external-link">Rprof</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, after <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/Rprof.html" class="external-link">Rprof</a></span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span>, interval <span class="op">=</span> <span class="va">interval</span>, filter.callframes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="va">expr</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/summaryRprof.html" class="external-link">summaryRprof</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">out_tbl</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">out</span><span class="op">$</span><span class="va">by.total</span>, rownames <span class="op">=</span> <span class="st">"fn"</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">out_tbl</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span>fn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"\""</span>, <span class="st">""</span>, <span class="va">fn</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">arrange</span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu">desc</span><span class="op">(</span><span class="va">self.pct</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/simonpcouch/stopwatch/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/simonpcouch/stopwatch/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
<li><a href="SUPPORT.html">Getting help</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing stopwatch</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Simon Couch <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-5676-5107" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://CRAN.R-project.org/package=stopwatch" class="external-link"><img src="https://www.r-pkg.org/badges/version/stopwatch" alt="CRAN status"></a></li>
<li><a href="https://github.com/simonpcouch/stopwatch/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/simonpcouch/stopwatch/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/simonpcouch/stopwatch?branch=main" class="external-link"><img src="https://codecov.io/gh/simonpcouch/stopwatch/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Simon Couch.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
